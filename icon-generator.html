<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pleiades OS Icon Generator</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      background: #050508;
      color: white;
    }
    h1 { color: #8b5cf6; }
    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    .icon-item {
      background: rgba(255,255,255,0.05);
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
    }
    .icon-item img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
    .icon-size {
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: #888;
    }
    button {
      background: #8b5cf6;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      margin-top: 1rem;
    }
    button:hover {
      background: #7c3aed;
    }
    .instructions {
      background: rgba(139, 92, 246, 0.1);
      border: 1px solid rgba(139, 92, 246, 0.3);
      border-radius: 12px;
      padding: 1.5rem;
      margin-top: 2rem;
    }
    code {
      background: rgba(255,255,255,0.1);
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <h1>ðŸŒŸ Pleiades OS Icon Generator</h1>
  <p>Preview and download icons for the PWA manifest.</p>
  
  <div class="icon-grid" id="iconGrid"></div>
  
  <button onclick="downloadAll()">ðŸ“¦ Download All Icons</button>
  
  <div class="instructions">
    <h3>Icon Requirements</h3>
    <ul>
      <li><code>icon-16.png</code> - Favicon (16x16)</li>
      <li><code>icon-32.png</code> - Favicon (32x32)</li>
      <li><code>icon-152.png</code> - iPad touch icon</li>
      <li><code>icon-167.png</code> - iPad Pro touch icon</li>
      <li><code>icon-180.png</code> - iPhone touch icon</li>
      <li><code>icon-192.png</code> - Android/Chrome icon</li>
      <li><code>icon-512.png</code> - Android splash screen</li>
      <li><code>icon-mask.svg</code> - Safari pinned tab</li>
    </ul>
    <p><strong>To generate PNGs:</strong> Use a tool like <a href="https://cloudconvert.com/svg-to-png" style="color: #8b5cf6;">CloudConvert</a> or ImageMagick to convert the SVG to PNG at each size.</p>
    <p><strong>Command line:</strong></p>
    <code>for size in 16 32 152 167 180 192 512; do convert icon-512.svg -resize ${size}x${size} icon-${size}.png; done</code>
  </div>

  <canvas id="canvas" style="display: none;"></canvas>

  <script>
    const sizes = [16, 32, 152, 167, 180, 192, 512];
    const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
      <defs>
        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
        </linearGradient>
      </defs>
      <rect width="512" height="512" rx="100" fill="url(#grad)"/>
      <text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" font-size="280" fill="white">âœ¦</text>
    </svg>`;

    const iconGrid = document.getElementById('iconGrid');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    sizes.forEach(size => {
      const blob = new Blob([svgContent], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      
      const img = new Image();
      img.onload = () => {
        const item = document.createElement('div');
        item.className = 'icon-item';
        item.innerHTML = `
          <img src="${url}" alt="${size}x${size}">
          <div class="icon-size">${size}Ã—${size}</div>
        `;
        iconGrid.appendChild(item);
      };
      img.src = url;
    });

    function downloadAll() {
      sizes.forEach((size, index) => {
        setTimeout(() => {
          canvas.width = size;
          canvas.height = size;
          
          const img = new Image();
          img.onload = () => {
            ctx.drawImage(img, 0, 0, size, size);
            const link = document.createElement('a');
            link.download = `icon-${size}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
          };
          
          const blob = new Blob([svgContent], { type: 'image/svg+xml' });
          img.src = URL.createObjectURL(blob);
        }, index * 200);
      });
    }
  </script>
</body>
</html>
